<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <!-- Meta tags for social media banners, these should be filled in appropriatly as they are your "business card" -->
  <!-- Replace the content tag with appropriate information -->
  <meta name="description" content="DESCRIPTION META TAG">
  <meta property="og:title" content="SOCIAL MEDIA TITLE TAG"/>
  <meta property="og:description" content="SOCIAL MEDIA DESCRIPTION TAG TAG"/>
  <meta property="og:url" content="URL OF THE WEBSITE"/>
  <!-- Path to banner image, should be in the path listed below. Optimal dimenssions are 1200X630-->
  <meta property="og:image" content="static/image/your_banner_image.png" />
  <meta property="og:image:width" content="1200"/>
  <meta property="og:image:height" content="630"/>


  <meta name="twitter:title" content="TWITTER BANNER TITLE META TAG">
  <meta name="twitter:description" content="TWITTER BANNER DESCRIPTION META TAG">
  <!-- Path to banner image, should be in the path listed below. Optimal dimenssions are 1200X600-->
  <meta name="twitter:image" content="static/images/your_twitter_banner_image.png">
  <meta name="twitter:card" content="summary_large_image">
  <!-- Keywords for your paper to be indexed by-->
  <meta name="keywords" content="KEYWORDS SHOULD BE PLACED HERE">
  <meta name="viewport" content="width=device-width, initial-scale=1">


  <title>Fusing LLM Capabilities with Routing Data</title>

  <link rel="icon" type="image/x-icon" href="static/images/favicon.ico">
  <link href="https://fonts.googleapis.com/css?family=Google+Sans|Noto+Sans|Castoro"
  rel="stylesheet">

  <link rel="stylesheet" href="static/css/bulma.min.css">
  <link rel="stylesheet" href="static/css/bulma-carousel.min.css">
  <link rel="stylesheet" href="static/css/bulma-slider.min.css">
  <link rel="stylesheet" href="static/css/fontawesome.all.min.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA==" crossorigin="anonymous" referrerpolicy="no-referrer" />

  <link rel="stylesheet"
  href="https://cdn.jsdelivr.net/gh/jpswalsh/academicons@1/css/academicons.min.css">
  <link rel="stylesheet" href="static/css/index.css">

  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <script src="https://documentcloud.adobe.com/view-sdk/main.js"></script>
  <script defer src="static/js/fontawesome.all.min.js"></script>
  <script src="static/js/bulma-carousel.min.js"></script>
  <script src="static/js/bulma-slider.min.js"></script>
  <script src="static/js/index.js"></script>
  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
</head>
<body>


  <section class="hero">
    <div class="hero-body">
      <div class="container is-max-desktop">
        <div class="columns is-centered">
          <div class="column has-text-centered">
            <h1 class="title is-1 publication-title">Fusing LLM Capabilities with Routing Data</h1>
            <div class="is-size-5 publication-authors">
  <!-- Paper authors -->
<div class="is-size-6 publication-authors">
  <span class="author-block"><b>Tao Feng<sup>1*</sup></b>,</span>
  <span class="author-block"><b>Haozhen Zhang<sup>1*</sup></b>,</span>
  <span class="author-block"><b>Zijie Lei<sup>1</sup></b>,</span>
  <span class="author-block"><b>Pengrui Han<sup>1</sup></b>,</span>
  <span class="author-block"><b>Mostofa Patwary<sup>2</sup></b>,</span>
  <span class="author-block"><b>Mohammad Shoeybi<sup>2</sup></b>,</span>
  <span class="author-block"><b>Bryan Catanzaro<sup>2</sup></b>,</span>
  <span class="author-block"><b>Jiaxuan You<sup>1,2</sup></b></span>
</div>

<div class="is-size-6 publication-authors" style="margin-top: 0.5em;">
  <span class="author-block"><sup>1</sup>University of Illinois Urbana-Champaign</span><br/>
  <span class="author-block"><sup>2</sup>NVIDIA</span>
</div>

<div class="is-size-6 publication-authors" style="margin-top: 0.5em;">
  <span class="author-block">{taofeng2, jiaxuan}@illinois.edu</span>
</div>

<!-- Footnotes -->
<div class="is-size-7 publication-authors" style="margin-top: 1em;">
  <span class="author-block"><sup>*</sup>Equal contribution</span><br/>
</div>


                  <!-- ArXiv abstract Link -->
                <span class="link-block">
                  <a href="https://arxiv.org/pdf/2410.03834" target="_blank"
                  class="external-link button is-normal is-rounded is-dark">
                  <span class="icon">
                    <i class="ai ai-arxiv"></i>
                  </span>
                  <span>arXiv</span>
                </a>
              </span>

                  <!-- Github link -->
                  <span class="link-block">
                    <a href="https://github.com/ulab-uiuc/FusionFactory" target="_blank"
                    class="external-link button is-normal is-rounded is-dark">
                    <span class="icon">
                      <i class="fab fa-github"></i>
                    </span>
                    <span>Code</span>
                  </a>
                </span>
       <!-- Hugging Face links for Dataset and Model -->
<span class="link-block">
  <a href="https://huggingface.co/datasets/ulab-ai/FusionBench" target="_blank"
     class="external-link button is-normal is-rounded is-dark">
    <span class="icon">ðŸ“‚</span>
    <span>Dataset</span>
  </a>
</span>

<span class="link-block" style="margin-left: 10px;">
  <a href="https://huggingface.co/ulab-ai/FusionFactory" target="_blank"
     class="external-link button is-normal is-rounded is-dark">
    <span class="icon">ðŸ¤–</span>
    <span>Model</span>
  </a>
</span>



        
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>
<!-- Teaser video-->
<!-- <section class="hero teaser">
  <div class="container is-max-desktop">
    <div class="hero-body">
      <video poster="" id="tree" autoplay controls muted loop height="100%">
        <source src="static/videos/excel.mov"
        type="video/mp4">
      </video>

    </div>
  </div>
</section> -->
<!-- End teaser video -->

<!-- Paper abstract -->
<section class="section hero">
  <div class="container is-max-desktop">
    <div class="columns is-centered has-text-centered">
      <div class="column is-four-fifths">
        <h2 class="title is-3">Abstract</h2>
        <div class="content has-text-justified">
          <p>
            The rapid advancement of large language models (LLMs) has fostered a vibrant
ecosystem of diverse architectures, each exhibiting unique strengths across different
tasks due to variations in model design, training data, and optimization objectives.
Despite this diversity, most LLM applications rely on a single backend model,
limiting their ability to cover a wide range of capabilities and often resulting in
inefficiencies in both performance and token costs when tackling complex tasks.
We point out that modern LLM hosting platforms typically serve a variety of
models in response to diverse queries, generating a rich and underutilized resource:
LLM routing data, which offers insights into the comparative strengths of differ-
ent models across tasks. We identify a critical gap in current LLM ecosystems,
the underexploitation of large-scale LLM routing data, which holds significant
potential for optimizing multi-LLM integration and effectively harnessing their
complementary capabilities. To tackle this question, we propose FusionBench,
a comprehensive routing benchmark that includes diverse response types from
multiple LLMs, summarizes reusable thought templates from top models, and
covers 14 tasks across five domains using 20 open-source LLMs ranging from
8B to 671B parameters, consisting of 103M tokens. Based on FusionBench, we
propose FusionFactory, a systematic LLM fusion framework with three repre-
sentative levels: (1) query-level fusion, which constructs tailored LLM routers
for each query while considering both direct response patterns and reasoning-
augmented outputs; (2) thought-level fusion, which enhances response quality
by leveraging abstract thought templates derived from top-performing LLMsâ€™
answers to similar past queries; and (3) model-level fusion, which transfers ca-
pabilities between models through distillation methods, selecting top-performing
responses or those with highest judge scores as training data. We systemati-
cally evaluate FusionFactory on FusionBench and find that fusing LLMs with
FusionFactory yields consistent benchmark performance improvement over the
best individual LLM across 14 popular LLM benchmarks, where the optimal
FusionFactory configuration varies across different benchmarks.
          </p>
        </div>

        <!-- <div class="content">
          <div class=" has-text-centered">
            <img src="static/images/figure2.png" alt="MY ALT TEXT"/>
          </div>
          <b class="subtitle is-size-6">
            Thought-Retriever Framework. (a) Thought retrieval: Upon receiving a user query, Thought-Retriever retrieves top-K data
            chunks from the mixture of external knowledge and thought memory based on embedding similarity; (b) Answer generation: The LLM generates the answer for the user query based on the retrieved data chunks; (c) Thought generation: The LLM further generates thought and its confidence based on the user query and the generated answer; (d) Thought memory update: Meaningless and redundant thoughts are removed and the remaining novel thoughts are used to update the thought memory. 
          </b>
        </div> -->

      </div>
    </div>
  </div>
</section>



<section class="section hero">
  <div class="container is-max-desktop">
    <div class="columns is-centered">
      <div class="column is-four-fifths">
        <h2 class="title is-3">1. FusionBench: Routing Benchmark for LLM Capabilities Fusion</h2>
        <div class="content">

          <div class="content has-text-justified">
          
            <p> Overview of FusionBenchâ€™s construction process. </p>
            
          </div>

          <div class=" has-text-centered">
            <img src="static/images/j1.png" alt="MY ALT TEXT"/>
          </div>
          <b class="subtitle is-size-6">
          </b>
        </div>

        <h2 class="title is-4"></h2>
        <div class="content has-text-justified">
          <p>
            
          </p>
        </div>
        
        <div class="content has-text-justified">
          
          <p>It shows how user queries are sent to different LLMs using two prompting strategiesâ€”direct answering and reasoning-based answering. The generated responses are then evaluated using multiple metrics, including performance, cost, and LLM judge scores. A sample table on the right demonstrates the collected results.</p>
       
        </div>

         <div class="content has-text-justified">
          
            <p> Data Summary of Tasks and Interacting LLMs in FusionBench. </p>
            
          </div>

        <div class=" has-text-centered">
            <img src="static/images/j2.png" alt="MY ALT TEXT"/>
          </div>
          <b class="subtitle is-size-6">
          </b>
        </div>

        
        
      </div>
    </div>
  </div>
</section>

<section class="section hero">
  <div class="container is-max-desktop">
    <div class="columns is-centered">
      <div class="column is-four-fifths">
        <h2 class="title is-3">2. FusionFactory: LLM Capabilities Fusion from Different Levels.</h2>
        <div class="content">
          <div class=" has-text-centered">
            <img src="static/images/j3.png" alt="MY ALT TEXT"/>
          </div>
<p>
  <strong>At the query level</strong>, a router selects the most suitable LLM for each task-query pair by considering performance, cost, and LLM judge scores.
</p>
<p>
  <strong>At the thought level</strong>, a summarizer generates reusable reasoning templates from the top-ranked responses. These templates are then used for few-shot prompting of new queries through similarity-based retrieval.
</p>
<p>
  <strong>At the model level</strong>, a new LLM is fine-tuned using top-quality responses selected by performance or LLM judgment to enhance its overall capabilities. The table on the left provides example data points and evaluation results across different strategies.
</p>


        </div>

      </div>
    </div>
  </div>
</section>

<section class="section hero">
  <div class="container is-max-desktop">
    <div class="columns is-centered">
      <div class="column is-four-fifths">
        <h2 class="title is-3">4. Experiments</h2>
        <h2 class="title is-4">4.1 Results Analysis on Query-level Fusion</h2>
        <div class="content has-text-justified">
          <p>
            Comparison of the LLM fusion abilities of all routers on four settings. Bold and
underline denote the best and second-best results. We can observe
the following: 1) GraphRouter consistently achieves the best results across all settings.  2) Graph Router can effectively fuse smaller LLMs to surpass both the best-performing LLM and
the largest LLM. 3)  Compared to the Best LLM, the other router methods offer no significant
advantage, which illustrates the challenge that multi-task and multi-LLM fusion pose to the routerâ€™s
fusing capability.

          </p>
        </div>
        <div class="content">
          <div class=" has-text-centered">
            <img src="static/images/j4.png"  alt="MY ALT TEXT"/>
          </div>
  
        </div>
      

        <h2 class="title is-4">4.2 Result Analysis on Thought-level Fusion</h2>
        <div class="content has-text-justified">
          <p>
            We can observe that our thought-level fusion approach consistently improves model performance across all scales. We have
            the following observations: 1) Thought fusion excels on tasks requiring complex reasoning.  2) Large models can also benefit from thought fusion. 3)  Hybrid selection strategy provides optimal balance.
          </p>
        </div>
        
        <div class="content">
          <div class=" has-text-centered">
            <img src="static/images/j5.png"  alt="MY ALT TEXT"/>
          </div>
  
        </div>

<h2 class="title is-4">4.3 Result Analysis on Model-level Fusion</h2>
<div class="content has-text-justified">
  <p>
    Performance of model-level fusion using LLaMA-3.1 (8B) on FusionBench, under
different fine-tuning strategies and response selection criteria. We have
            the following observations: 1) Model-level fusion brings modest average improvements across tasks, with gains in 4 out of 6 domains.  2) Fusion gains are not uniform, with performance drops observed in code tasks due to domain mismatch and data scarcity. 3)  LLM Judgeâ€“based selection yields the best results by offering nuanced and continuous quality assessment over rigid rule-based metrics.
  </p>
</div>

<div class="content">
  <div class="has-text-centered">
    <img src="static/images/j6.png" alt="Ablation Study Results"/>
  </div>
</div>

        <h2 class="title is-4">4.4 Comparisons Across Three Fusion Levels</h2>
<div class="content has-text-justified">
  <p>
    Comparison of the three levels across six complete domains on full test set. We can observe that: 1) The thought-level approaches achieve the best fusion performances.  
    2) The model-level approaches yield the lowest performance among the three fusion levels.
    3) The query-level fusion demonstrates moderate performance but is the most cost-efficient
method. 
    4) Across different domains, we observe that compared to the zero-shot setting, fusing LLM
capabilities is most challenging in the World Knowledge and Math domains.
  </p>
</div>

<div class="content">
  <div class="has-text-centered">
    <img src="static/images/j7.png" alt="Ablation Study Results"/>
  </div>
</div>



        

      </div>
    </div>
  </div>
</section>
<!-- End paper abstract -->


<!-- Image carousel -->
<!-- <section class="hero is-small">
  <div class="hero-body">
    <div class="container">
      <div id="results-carousel" class="carousel results-carousel">
       <div class="item">
        Your image here
        <img src="static/images/carousel1.jpg" alt="MY ALT TEXT"/>
        <h2 class="subtitle has-text-centered">
          First image description.
        </h2>
      </div>
      <div class="item">
        Your image here
        <img src="static/images/carousel2.jpg" alt="MY ALT TEXT"/>
        <h2 class="subtitle has-text-centered">
          Second image description.
        </h2>
      </div>
      <div class="item">
        Your image here
        <img src="static/images/carousel3.jpg" alt="MY ALT TEXT"/>
        <h2 class="subtitle has-text-centered">
         Third image description.
       </h2>
     </div>
     <div class="item">
       Your image here
      <img src="static/images/carousel4.jpg" alt="MY ALT TEXT"/>
      <h2 class="subtitle has-text-centered">
        Fourth image description.
      </h2>
    </div>
  </div>
</div>
</div>
</section> -->
<!-- End image carousel -->




<!-- Youtube video -->
<!-- <section class="hero is-small is-light">
  <div class="hero-body">
    <div class="container">
       Paper video.
      <h2 class="title is-3">Video Presentation</h2>
      <div class="columns is-centered has-text-centered">
        <div class="column is-four-fifths">
          
          <div class="publication-video">
            Youtube embed code here
            <iframe src="https://www.youtube.com/embed/JkaxUblCGz0" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe>
          </div>
        </div>
      </div>
    </div>
  </div>
</section> -->
<!-- End youtube video -->


<!-- Video carousel -->
<!-- <section class="hero is-small">
  <div class="hero-body">
    <div class="container">
      <h2 class="title is-3">Another Carousel</h2>
      <div id="results-carousel" class="carousel results-carousel">
        <div class="item item-video1">
          <video poster="" id="video1" autoplay controls muted loop height="100%">
            
            <source src="static/videos/carousel1.mp4"
            type="video/mp4">
          </video>
        </div>
        <div class="item item-video2">
          <video poster="" id="video2" autoplay controls muted loop height="100%">
            
            <source src="static/videos/carousel2.mp4"
            type="video/mp4">
          </video>
        </div>
        <div class="item item-video3">
          <video poster="" id="video3" autoplay controls muted loop height="100%">\
            
            <source src="static/videos/carousel3.mp4"
            type="video/mp4">
          </video>
        </div>
      </div>
    </div>
  </div>
</section> -->
<!-- End video carousel -->






<!-- Paper poster -->
<!-- <section class="hero is-small is-light">
  <div class="hero-body">
    <div class="container">
      <h2 class="title">Poster</h2>

      <iframe  src="static/pdfs/sample.pdf" width="100%" height="550">
          </iframe>
        
      </div>
    </div>
  </section> -->
<!--End paper poster -->

<!-- <section class="section">
  <div class="container is-max-desktop content">
        <h2 class="title">Community</h2>
        <div class="content has-text-justified">
          <p>
            Join our community to connect with other agent enthusiasts, share your tools and demos, and collaborate on exciting initiatives. You can find us on <a href="https://join.slack.com/t/slack-ped8294/shared_invite/zt-2cqebow90-soac9UFKGZ2RcUy8PqjZrA" target="_blank" >Slack</a>.
          </p>
       
      </div>
  </div>
</section> -->

<!--BibTeX citation -->
<section class="section" id="BibTeX">
  <div class="container is-max-desktop content">
    <h2 class="title">BibTeX</h2>
    <pre><code>@article{FusionFactory,
  title={Fusing LLM Capabilities with Routing Data},
  author={Tao Feng and Haozhen Zhang and Zijie Lei and Pengrui Han and Mostofa Patwary and Mohammad Shoeybi and Bryan Catanzaro and Jiaxuan You},
  journal={arXiv preprint arXiv:xxxx.xxxxx},
  year={2025}
}</code></pre>
  </div>
</section>
<!--End BibTeX citation -->


  <footer class="footer">
  <div class="container">
    <div class="columns is-centered">
      <div class="column is-8">
        <div class="content">

          <p>
            This page was built using the <a href="https://github.com/eliahuhorwitz/Academic-project-page-template" target="_blank">Academic Project Page Template</a> which was adopted from theÂ <a href="https://nerfies.github.io" target="_blank">Nerfies</a>Â project page.
            You are free to borrow the of this website, we just ask that you link back to this page in the footer. <br> This website is licensed under a <a rel="license"  href="http://creativecommons.org/licenses/by-sa/4.0/" target="_blank">Creative
            Commons Attribution-ShareAlike 4.0 International License</a>.
          </p>

        </div>
      </div>
    </div>
  </div>
</footer>

<!-- Statcounter tracking code -->
  
<!-- You can add a tracker to track page visits by creating an account at statcounter.com -->

    <!-- End of Statcounter Code -->

  </body>
  </html>
